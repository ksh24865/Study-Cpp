# Study-Cpp

## chapter 9 가상의 원리와 다중상속

### 9-1 멤버함수와 가상함수의 동작원리

객체 안에 멤버함수가 존재하는가?
- 객체가 생성되면 멤버변수는 객체 내에 존재하지만, 
멤버함수는 메모리의 한 공간에 별도로 위치하고선, 이 함수가 정의된 클래스의 모든 객체가 이를 공유하는 형태.
- 객체가 지니고 있는 멤버변수 대상의 연산이 진행되도록 함수를 호출.
- 즉, 객체 안에 멤버함수가 존재하지 않는다.

가상함수 테이블(V-table)
- 한 개 이상의 가상함수를 포함하는 클래스에 대해 컴파일러가 만듦, 실제 호출되어야 할 함수의 위치정보를 담고 있는 테이블.
- key:  호출하고자 하는 함수를 구분지어주는 구분자의 역할.
- value: 구분자에 해당하는 함수의 주소정보를 알려주는 역할.
- 객체의 생성과 상관없이 메모리 공간에 할당.

가상함수의 동작원리
- 오버라이딩 된 가상함수의 주소정보는 유도 클래스의 가상함수 테이블에 포함되지 않음.
- 오버라이딩 된 가상함수를 호출하면, 무조건 가장 마지막에 오버라이딩을 한 유도 클래스의 멤버함수가 호출.

### 9-2 다중상속에 대한 이해

다중상속: 둘 이상의 클래스를 동시에 상속하는 것.
- 다중상속의 대상이 되는 두 기초 클래스에 동일한 이름의 멤버가 존재하는 경우에는 문제가 발생.
- 기초클래스::멤버 => 해결

다중상속의 모호한 상황(같은 기초 클래스를 상속한 2개 이상의 유도 클래스를 다중상속한 경우 = 한 기초 클래스를 2번 이상 간접 상속한 경우)
- 가상상속으로 해결. virtual 선언.
- 기초 클래스를 딱 한번만 상속하게끔 해줌.
